---
import type { Temporal } from "temporal-polyfill";

interface Props {
	date: Temporal.PlainDate;
	locale?: "en-US" | undefined;
	dateStyle?: "long" | "full";
}

const { date, locale, dateStyle = "long" } = Astro.props;

// Human-readable
const formattedDate = date?.toLocaleString(locale, { dateStyle }) ?? null;

// YYYY-MM-DD for use with <time>
const datetime = date?.toString() ?? null;
---

<time datetime={datetime} title={datetime}>{formattedDate}</time>
