---
import type { HTMLAttributes } from "astro/types";

interface Props extends Omit<HTMLAttributes<"a">, "href" | "class"> {
	fileName: string;
}

const { fileName, ...attrs } = Astro.props;

const ext = "html";

const href = `/${fileName}.${ext}`;
const slug = Astro.url.pathname.split("/").at(-1) || `index.${ext}`;
const current = slug === `${fileName}.${ext}`;
---

{
	current ? (
		// prettier-ignore
		<a href={href} class="current" {...attrs}><slot /> <span class="visually-hidden">(current)</span></a>
	) : (
		// prettier-ignore
		<a href={href} {...attrs}><slot /></a>
	)
}
